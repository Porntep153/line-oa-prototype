<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOS! ‡∏≠‡∏¢‡∏≤‡∏Å‡∏™‡∏π‡∏ö</title>
    <script src="https://static.line-scdn.net/liff/sdk/v2/liff.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        :root {
            --primary-color: #7952B3; /* Purple */
            --secondary-color: #6FBC82; /* Green */
            --bg-color: #F4F7F6;
            --font-family: 'Inter', sans-serif;
        }
        body {
            font-family: var(--font-family);
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
            box-sizing: border-box;
            color: #333;
        }
        h1 {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin-bottom: 30px;
        }
        .btn-sos {
            width: 90vmin; /* Ensure it's large and mobile-friendly */
            height: 90vmin;
            max-width: 350px;
            max-height: 350px;
            background-color: #e3342f; /* Red for SOS */
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            box-shadow: 0 8px 20px rgba(227, 52, 47, 0.5);
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-bottom: 40px;
        }
        .btn-sos:active {
            transform: scale(0.95);
            box-shadow: 0 4px 10px rgba(227, 52, 47, 0.5);
        }
        .sos-icon {
            font-size: 3rem;
            margin-bottom: 10px;
        }
        .tip-card {
            background-color: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .tip-title {
            color: var(--primary-color);
            font-size: 1.5rem;
            margin-bottom: 15px;
        }
        .tip-text {
            font-size: 1.1rem;
            line-height: 1.6;
            font-weight: 500;
        }
        .hidden {
            display: none !important;
        }
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            font-size: 1.2rem;
            color: var(--primary-color);
        }
    </style>
</head>
<body>
    <div class="loading-overlay" id="loading">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î LIFF...</div>
    <div class="container hidden" id="main-content">
        <h1>üÜò ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏à‡∏≠‡∏¢‡∏≤‡∏Å‡∏™‡∏π‡∏ö... ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏ô‡∏µ‡πâ!</h1>

        <button class="btn-sos" onclick="handleSosClick()">
            <span class="sos-icon">üö®</span>
            SOS! <br> ‡∏≠‡∏¢‡∏≤‡∏Å‡∏™‡∏π‡∏ö
        </button>

        <div class="tip-card" id="tip-display">
            <div class="tip-title">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏™‡∏°‡∏≠!</div>
            <div class="tip-text">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° SOS ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö CBT ‡∏™‡∏∏‡πà‡∏°</div>
        </div>
    </div>

    <script>
        const CBT_TIPS = [
            "üß† **‡∏•‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡πÄ‡∏¢‡πá‡∏ô‡∏ä‡πâ‡∏≤‡πÜ 1 ‡πÅ‡∏Å‡πâ‡∏ß** ‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏¢‡πá‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏≠‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏ä‡∏±‡πà‡∏ß‡∏Ç‡∏ì‡∏∞",
            "üèÉ **‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡πÄ‡∏î‡∏¥‡∏ô 5 ‡∏ô‡∏≤‡∏ó‡∏µ** ‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏ö‡∏≤‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏¢‡∏≤‡∏Å",
            "üßò **‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡πÄ‡∏Ç‡πâ‡∏≤‡∏•‡∏∂‡∏Å‡πÜ 10 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á** ‡∏ä‡πâ‡∏≤‡πÜ ‡πÅ‡∏•‡πâ‡∏ß‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏≠‡∏≠‡∏Å ‡∏™‡∏ï‡∏¥‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏±‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ",
            "üìû **‡πÇ‡∏ó‡∏£‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô** ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏Ñ‡∏£‡∏™‡∏±‡∏Å‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏ü‡∏±‡∏á ‡∏Ñ‡∏∏‡∏¢‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∑‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà",
            "üçè **‡∏´‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ö‡πÄ‡∏Ñ‡∏µ‡πâ‡∏¢‡∏ß‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ï‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û** ‡πÄ‡∏ä‡πà‡∏ô ‡πÅ‡∏Ñ‡∏£‡∏≠‡∏ó, ‡∏´‡∏°‡∏≤‡∏Å‡∏ù‡∏£‡∏±‡πà‡∏á, ‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏•‡πÑ‡∏°‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡πâ‡∏¢‡∏ß‡πÜ",
            "üöø **‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥ ‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥** ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÑ‡∏î‡πâ",
            "‚è±Ô∏è **‡πÉ‡∏ä‡πâ‡∏Å‡∏é 5 ‡∏ô‡∏≤‡∏ó‡∏µ** ‡∏ö‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ß‡πà‡∏≤ '‡∏à‡∏∞‡∏£‡∏≠‡∏Å‡πà‡∏≠‡∏ô 5 ‡∏ô‡∏≤‡∏ó‡∏µ' ‡∏°‡∏±‡∏Å‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏¢‡∏≤‡∏Å‡∏•‡∏î‡∏•‡∏á",
            "‚úèÔ∏è **‡∏à‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å** ‡∏•‡∏á‡πÉ‡∏ô Emotion Log ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏¢‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì",
            "üèÜ **‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡∏¥‡∏Å** ‡∏°‡∏≠‡∏á‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏î‡πâ!",
            "üñºÔ∏è **‡∏î‡∏π‡∏£‡∏π‡∏õ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß/‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏£‡∏±‡∏Å** ‡∏¢‡πâ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏Ñ‡∏£"
        ];

        document.addEventListener('DOMContentLoaded', () => {
            initializeLiff();
        });

        async function initializeLiff() {
            try {
                await liff.init({ liffId: 'REPLACE_WITH_YOUR_LIFF_ID_SOS' }); // **IMPORTANT**: Replace with actual LIFF ID

                if (!liff.isLoggedIn()) {
                    liff.login();
                    return;
                }
            } catch (error) {
                console.error("LIFF Initialization failed", error);
                document.getElementById('tip-display').innerHTML = `<div class="tip-title" style="color:#e3342f;">‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î</div><div class="tip-text">LIFF ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ: ${error.message}</div>`;
            } finally {
                document.getElementById('loading').classList.add('hidden');
                document.getElementById('main-content').classList.remove('hidden');
            }
        }

        function handleSosClick() {
            // 1. Randomly select a tip
            const randomIndex = Math.floor(Math.random() * CBT_TIPS.length);
            const randomTip = CBT_TIPS[randomIndex];

            // 2. Display the tip
            const tipDisplay = document.getElementById('tip-display');
            tipDisplay.innerHTML = `
                <div class="tip-title" style="color: #e3342f;">üî• ‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏¢‡∏≠‡∏°‡πÅ‡∏û‡πâ!</div>
                <div class="tip-text">${randomTip}</div>
            `;

            // 3. Optional: Add haptic feedback for better mobile UX
            if (liff.isApiAvailable('vibrate')) {
                liff.vibrate(100);
            }
        }
    </script>
</body>
</html>
